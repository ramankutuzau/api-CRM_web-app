<div class="modal fade" id="worksModal" aria-hidden="true" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Работы</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"
                        aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <button type="button" class="btn btn btn-save mb-2"
                        data-bs-target="#worksCalcModal"
                        data-bs-toggle="modal" data-bs-dismiss="modal">Добавить работу
                </button>
                <button type="button" class="btn btn btn-save mb-2"
                        data-bs-target="#otherCalcModal"
                        data-bs-toggle="modal" data-bs-dismiss="modal">Добавить доп.расходы
                </button>
                {% if check_works %}
                    {% if works_calc %}
                    {% for el in works_calc %}
                    <li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg">
                        <div class="d-flex flex-column">
                            <h6 class="mb-3 text-sm">{{ el.works.name }}</h6>
                            <span class="mb-2 text-xs">Количество: <span
                                    class="text-dark font-weight-bold ms-sm-2">{{ el.count }}</span></span>
                            <span class="mb-2 text-xs">Цена BYN: <span
                                    class="text-dark font-weight-bold ms-sm-2">{{ el.price_in_byn }}</span></span>
                        </div>
                        <div class="ms-auto text-end">
                            <form method="post" enctype="multipart/form-data">
                                {% csrf_token %}

                                <input type="text" class="form-control mt-2 mb-2"
                                       placeholder="id_works_calc"
                                       name="id_works_calc" value="{{ el.pk }}" style="display:none">
                                <button class="btn btn-link text-danger text-gradient px-3 mb-0"
                                        href="javascript:;" type="submit"><i
                                        class="far fa-trash-alt me-2"></i>Удалить
                                </button>
                            </form>
                        </div>
                    </li>
                    {% endfor %}
                    {% endif %}

                {% for el in other_calc %}
                <li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg">
                    <div class="d-flex flex-column">
                        <h6> Доп.расходы </h6>
                        <h6 class="mb-3 text-sm">{{ el.other.name }}</h6>
                        <span class="mb-2 text-xs">Цена BYN: <span
                                class="text-dark font-weight-bold ms-sm-2">{{ el.price }}</span></span>
                    </div>
                    <div class="ms-auto text-end">
                        <form method="post" enctype="multipart/form-data">
                            {% csrf_token %}

                            <input type="text" class="form-control mt-2 mb-2"
                                   placeholder="id_other_calc"
                                   name="id_other_calc" value="{{ el.pk }}" style="display:none">
                            <button class="btn btn-link text-danger text-gradient px-3 mb-0"
                                    href="javascript:;" type="submit"><i
                                    class="far fa-trash-alt me-2"></i>Удалить
                            </button>
                        </form>
                    </div>
                </li>
                {% endfor %}
                   {% else %}
                <div class="col-12 d-flex justify-content-center mt-3">
                    <svg width="313" height="78" viewBox="0 0 313 78" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M87.752 48H85.592V32.76H80.24V30.864H93.08V32.76H87.752V48ZM92.399 35.136H94.655L97.439 42.456C97.599 42.888 97.743 43.304 97.871 43.704C98.015 44.104 98.143 44.496 98.255 44.88C98.367 45.248 98.455 45.608 98.519 45.96H98.615C98.711 45.56 98.863 45.04 99.071 44.4C99.279 43.744 99.495 43.088 99.719 42.432L102.335 35.136H104.615L99.071 49.776C98.767 50.576 98.407 51.272 97.991 51.864C97.591 52.472 97.095 52.936 96.503 53.256C95.927 53.592 95.223 53.76 94.391 53.76C94.007 53.76 93.671 53.736 93.383 53.688C93.095 53.656 92.847 53.616 92.639 53.568V51.888C92.815 51.92 93.023 51.952 93.263 51.984C93.519 52.016 93.783 52.032 94.055 52.032C94.551 52.032 94.975 51.936 95.327 51.744C95.695 51.568 96.007 51.304 96.263 50.952C96.519 50.616 96.735 50.216 96.911 49.752L97.583 48.048L92.399 35.136ZM115.529 36.912H111.329V48H109.241V36.912H105.089V35.136H115.529V36.912ZM134.631 35.136V48H132.519V36.936H125.871V48H123.759V35.136H134.631ZM149.919 41.544C149.919 42.616 149.775 43.568 149.487 44.4C149.215 45.216 148.815 45.912 148.287 46.488C147.775 47.064 147.143 47.504 146.391 47.808C145.655 48.096 144.831 48.24 143.919 48.24C143.071 48.24 142.287 48.096 141.567 47.808C140.847 47.504 140.223 47.064 139.695 46.488C139.167 45.912 138.751 45.216 138.447 44.4C138.159 43.568 138.015 42.616 138.015 41.544C138.015 40.12 138.255 38.92 138.735 37.944C139.215 36.952 139.903 36.2 140.799 35.688C141.695 35.16 142.759 34.896 143.991 34.896C145.159 34.896 146.183 35.16 147.063 35.688C147.959 36.2 148.655 36.952 149.151 37.944C149.663 38.92 149.919 40.12 149.919 41.544ZM140.199 41.544C140.199 42.552 140.327 43.432 140.583 44.184C140.855 44.92 141.271 45.488 141.831 45.888C142.391 46.288 143.103 46.488 143.967 46.488C144.831 46.488 145.543 46.288 146.103 45.888C146.663 45.488 147.071 44.92 147.327 44.184C147.599 43.432 147.735 42.552 147.735 41.544C147.735 40.52 147.599 39.648 147.327 38.928C147.055 38.208 146.639 37.656 146.079 37.272C145.535 36.872 144.823 36.672 143.943 36.672C142.631 36.672 141.679 37.104 141.087 37.968C140.495 38.832 140.199 40.024 140.199 41.544ZM160.875 35.136H163.179L157.683 41.328L163.635 48H161.187L155.379 41.472V48H153.267V35.136H155.379V41.376L160.875 35.136ZM170.842 34.92C172.41 34.92 173.57 35.264 174.322 35.952C175.074 36.64 175.45 37.736 175.45 39.24V48H173.914L173.506 46.176H173.41C173.042 46.64 172.658 47.032 172.258 47.352C171.874 47.656 171.426 47.88 170.914 48.024C170.418 48.168 169.81 48.24 169.09 48.24C168.322 48.24 167.626 48.104 167.002 47.832C166.394 47.56 165.914 47.144 165.562 46.584C165.21 46.008 165.034 45.288 165.034 44.424C165.034 43.144 165.538 42.16 166.546 41.472C167.554 40.768 169.106 40.384 171.202 40.32L173.386 40.248V39.48C173.386 38.408 173.154 37.664 172.69 37.248C172.226 36.832 171.57 36.624 170.722 36.624C170.05 36.624 169.41 36.728 168.802 36.936C168.194 37.128 167.626 37.352 167.098 37.608L166.45 36.024C167.01 35.72 167.674 35.464 168.442 35.256C169.21 35.032 170.01 34.92 170.842 34.92ZM171.466 41.784C169.866 41.848 168.754 42.104 168.13 42.552C167.522 43 167.218 43.632 167.218 44.448C167.218 45.168 167.434 45.696 167.866 46.032C168.314 46.368 168.882 46.536 169.57 46.536C170.658 46.536 171.562 46.24 172.282 45.648C173.002 45.04 173.362 44.112 173.362 42.864V41.712L171.466 41.784ZM187.23 35.136V40.488H194.214V35.136H196.326V48H194.214V42.264H187.23V48H185.118V35.136H187.23ZM202.391 42.984C202.391 43.128 202.383 43.336 202.367 43.608C202.367 43.864 202.359 44.144 202.343 44.448C202.327 44.736 202.311 45.016 202.295 45.288C202.279 45.544 202.263 45.752 202.247 45.912L209.135 35.136H211.727V48H209.759V40.416C209.759 40.16 209.759 39.824 209.759 39.408C209.775 38.992 209.791 38.584 209.807 38.184C209.823 37.768 209.839 37.456 209.855 37.248L203.015 48H200.399V35.136H202.391V42.984ZM217.669 39.816C217.669 40.568 217.877 41.128 218.293 41.496C218.725 41.848 219.341 42.024 220.141 42.024C220.941 42.024 221.669 41.904 222.325 41.664C222.981 41.408 223.653 41.072 224.341 40.656V35.136H226.453V48H224.341V42.264C223.621 42.728 222.909 43.096 222.205 43.368C221.517 43.624 220.685 43.752 219.709 43.752C218.397 43.752 217.373 43.408 216.637 42.72C215.917 42.032 215.557 41.112 215.557 39.96V35.136H217.669V39.816ZM235.508 34.896C236.612 34.896 237.556 35.136 238.34 35.616C239.14 36.096 239.748 36.776 240.164 37.656C240.596 38.52 240.812 39.536 240.812 40.704V41.976H232.004C232.036 43.432 232.404 44.544 233.108 45.312C233.828 46.064 234.828 46.44 236.108 46.44C236.924 46.44 237.644 46.368 238.268 46.224C238.908 46.064 239.564 45.84 240.236 45.552V47.4C239.58 47.688 238.932 47.896 238.292 48.024C237.652 48.168 236.892 48.24 236.012 48.24C234.796 48.24 233.716 47.992 232.772 47.496C231.844 47 231.116 46.264 230.588 45.288C230.076 44.296 229.82 43.088 229.82 41.664C229.82 40.256 230.052 39.048 230.516 38.04C230.996 37.032 231.66 36.256 232.508 35.712C233.372 35.168 234.372 34.896 235.508 34.896ZM235.484 36.624C234.476 36.624 233.676 36.952 233.084 37.608C232.508 38.248 232.164 39.144 232.052 40.296H238.604C238.604 39.56 238.492 38.92 238.268 38.376C238.044 37.832 237.7 37.408 237.236 37.104C236.788 36.784 236.204 36.624 235.484 36.624ZM251.935 35.136V36.912H246.199V48H244.087V35.136H251.935ZM265.419 41.544C265.419 42.616 265.275 43.568 264.987 44.4C264.715 45.216 264.315 45.912 263.787 46.488C263.275 47.064 262.643 47.504 261.891 47.808C261.155 48.096 260.331 48.24 259.419 48.24C258.571 48.24 257.787 48.096 257.067 47.808C256.347 47.504 255.723 47.064 255.195 46.488C254.667 45.912 254.251 45.216 253.947 44.4C253.659 43.568 253.515 42.616 253.515 41.544C253.515 40.12 253.755 38.92 254.235 37.944C254.715 36.952 255.403 36.2 256.299 35.688C257.195 35.16 258.259 34.896 259.491 34.896C260.659 34.896 261.683 35.16 262.563 35.688C263.459 36.2 264.155 36.952 264.651 37.944C265.163 38.92 265.419 40.12 265.419 41.544ZM255.699 41.544C255.699 42.552 255.827 43.432 256.083 44.184C256.355 44.92 256.771 45.488 257.331 45.888C257.891 46.288 258.603 46.488 259.467 46.488C260.331 46.488 261.043 46.288 261.603 45.888C262.163 45.488 262.571 44.92 262.827 44.184C263.099 43.432 263.235 42.552 263.235 41.544C263.235 40.52 263.099 39.648 262.827 38.928C262.555 38.208 262.139 37.656 261.579 37.272C261.035 36.872 260.323 36.672 259.443 36.672C258.131 36.672 257.179 37.104 256.587 37.968C255.995 38.832 255.699 40.024 255.699 41.544ZM276.574 35.136V40.488H283.558V35.136H285.67V48H283.558V42.264H276.574V48H274.462V35.136H276.574ZM294.711 34.896C295.815 34.896 296.759 35.136 297.543 35.616C298.343 36.096 298.951 36.776 299.367 37.656C299.799 38.52 300.015 39.536 300.015 40.704V41.976H291.207C291.239 43.432 291.607 44.544 292.311 45.312C293.031 46.064 294.031 46.44 295.311 46.44C296.127 46.44 296.847 46.368 297.471 46.224C298.111 46.064 298.767 45.84 299.439 45.552V47.4C298.783 47.688 298.135 47.896 297.495 48.024C296.855 48.168 296.095 48.24 295.215 48.24C293.999 48.24 292.919 47.992 291.975 47.496C291.047 47 290.319 46.264 289.791 45.288C289.279 44.296 289.023 43.088 289.023 41.664C289.023 40.256 289.255 39.048 289.719 38.04C290.199 37.032 290.863 36.256 291.711 35.712C292.575 35.168 293.575 34.896 294.711 34.896ZM294.687 36.624C293.679 36.624 292.879 36.952 292.287 37.608C291.711 38.248 291.367 39.144 291.255 40.296H297.807C297.807 39.56 297.695 38.92 297.471 38.376C297.247 37.832 296.903 37.408 296.439 37.104C295.991 36.784 295.407 36.624 294.687 36.624ZM312.17 36.912H307.97V48H305.882V36.912H301.73V35.136H312.17V36.912Z" fill="#9A9A9A"/>
                    <rect x="0.732422" width="58.5352" height="44.1507" rx="7.35846" fill="#9A9A9A"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M0 64.588C0 57.0001 2.88759 50.0866 7.62383 44.8865H50.9114L50.9116 44.8867H7.62516L7.62494 44.887H18.5994C13.8632 50.0871 10.9757 57.0005 10.9757 64.5883V77.9995H0V64.588Z" fill="#9A9A9A"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M52.3762 44.8865C57.1124 50.0866 60 57.0001 60 64.588V77.9995H49.0234V64.5883C49.0234 57.0005 46.1359 50.0871 41.3997 44.887H52.3751H52.3752L52.3749 44.8867H52.3749H41.3995H9.08846L9.08868 44.8865H52.3762Z" fill="#9A9A9A"/>
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M0.730469 64.5881C0.730469 57.0003 3.61801 50.0868 8.35418 44.8867H8.4054C3.63986 50.1225 0.732196 57.0971 0.732196 64.7546V77.9996H0.730469V64.5881ZM11.7075 77.9996V77.9998H0.732196V77.9996H11.7075ZM19.3807 44.8867C14.6152 50.1225 11.7075 57.0971 11.7075 64.7546V77.9996H48.292V77.9998H59.2674V64.7546C59.2674 64.6214 59.2665 64.4885 59.2648 64.3558C59.2065 56.8592 56.3297 50.0337 51.6419 44.8867H51.5942C56.2769 50.0315 59.1657 56.8551 59.2648 64.3558C59.2654 64.4332 59.2657 64.5106 59.2657 64.5881V77.9996H48.292V64.7546C48.292 57.0971 45.3844 50.1225 40.6188 44.8867H19.3807Z" fill="#9A9A9A"/>
                    <path d="M23.4141 33.1131V33.1131C26.4443 28.8109 32.8226 28.8109 35.8528 33.1131V33.1131" stroke="white" stroke-width="0.735846" stroke-linecap="round"/>
                    <path d="M44.6328 11.7734L38.7886 16.3448C38.4119 16.6394 38.4119 17.2093 38.7886 17.504L44.6328 22.0753" stroke="white" stroke-width="0.735846" stroke-linecap="round"/>
                    <path d="M15.3662 11.7734L21.2104 16.3448C21.5871 16.6394 21.5871 17.2093 21.2104 17.504L15.3662 22.0753" stroke="white" stroke-width="0.735846" stroke-linecap="round"/>
                    </svg>
                </div>
                {% endif %}

            </div>
            <div class="modal-footer">
                <button class="btn btn-dark"
                        data-bs-toggle="modal" data-bs-dismiss="modal">Закрыть
                </button>


            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="worksCalcModal" aria-hidden="true" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"> Работы</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"
                        aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <form method="post" enctype="multipart/form-data" id="form-works">
                    {% csrf_token %}

                    <div class="row">
                        {{ form_works_calc }}
                    </div>
                    <button type="submit" class="btn btn-save mt-2" style="width:100%">Добавить
                    </button>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-target="#worksModal"
                        data-bs-toggle="modal" data-bs-dismiss="modal">Назад
                </button>
                <button class="btn btn-dark"
                        data-bs-toggle="modal" data-bs-dismiss="modal">Закрыть
                </button>


            </div>

        </div>
    </div>
</div>

<div class="modal fade" id="otherCalcModal" aria-hidden="true" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title"> Дополнительные работы</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"
                        aria-label="Close"></button>
            </div>

            <div class="modal-body">
                <form method="post" enctype="multipart/form-data" id="form-other">
                    {% csrf_token %}

                    <div class="row">
                        {{ form_other_calc }}
                    </div>
                    <button type="submit" class="btn btn-save mt-2" style="width:100%">Добавить
                    </button>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" data-bs-target="#worksModal"
                        data-bs-toggle="modal" data-bs-dismiss="modal">Назад
                </button>
                <button class="btn btn-dark"
                        data-bs-toggle="modal" data-bs-dismiss="modal">Закрыть
                </button>


            </div>

        </div>
    </div>
</div>

